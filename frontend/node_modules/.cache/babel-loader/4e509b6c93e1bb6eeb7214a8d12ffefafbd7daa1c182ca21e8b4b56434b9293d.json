{"ast":null,"code":"import { BaseConversationalTask, BaseTextGenerationTask } from \"./providerHelper.js\";\nimport { omit } from \"../utils/omit.js\";\nimport { InferenceClientProviderOutputError } from \"../errors.js\";\nconst FEATHERLESS_API_BASE_URL = \"https://api.featherless.ai\";\nexport class FeatherlessAIConversationalTask extends BaseConversationalTask {\n  constructor() {\n    super(\"featherless-ai\", FEATHERLESS_API_BASE_URL);\n  }\n}\nexport class FeatherlessAITextGenerationTask extends BaseTextGenerationTask {\n  constructor() {\n    super(\"featherless-ai\", FEATHERLESS_API_BASE_URL);\n  }\n  preparePayload(params) {\n    return {\n      model: params.model,\n      ...omit(params.args, [\"inputs\", \"parameters\"]),\n      ...(params.args.parameters ? {\n        max_tokens: params.args.parameters.max_new_tokens,\n        ...omit(params.args.parameters, \"max_new_tokens\")\n      } : undefined),\n      prompt: params.args.inputs\n    };\n  }\n  async getResponse(response) {\n    if (typeof response === \"object\" && \"choices\" in response && Array.isArray(response?.choices) && typeof response?.model === \"string\") {\n      const completion = response.choices[0];\n      return {\n        generated_text: completion.text\n      };\n    }\n    throw new InferenceClientProviderOutputError(\"Received malformed response from Featherless AI text generation API\");\n  }\n}","map":{"version":3,"names":["BaseConversationalTask","BaseTextGenerationTask","omit","InferenceClientProviderOutputError","FEATHERLESS_API_BASE_URL","FeatherlessAIConversationalTask","constructor","FeatherlessAITextGenerationTask","preparePayload","params","model","args","parameters","max_tokens","max_new_tokens","undefined","prompt","inputs","getResponse","response","Array","isArray","choices","completion","generated_text","text"],"sources":["/Users/agmacbook/Documents/Courses/Meta - Full Stack/Exercises/meta_fullstack_exercises/6_react_basics/12_review/13_chef_claude/node_modules/@huggingface/inference/dist/esm/providers/featherless-ai.js"],"sourcesContent":["import { BaseConversationalTask, BaseTextGenerationTask } from \"./providerHelper.js\";\nimport { omit } from \"../utils/omit.js\";\nimport { InferenceClientProviderOutputError } from \"../errors.js\";\nconst FEATHERLESS_API_BASE_URL = \"https://api.featherless.ai\";\nexport class FeatherlessAIConversationalTask extends BaseConversationalTask {\n    constructor() {\n        super(\"featherless-ai\", FEATHERLESS_API_BASE_URL);\n    }\n}\nexport class FeatherlessAITextGenerationTask extends BaseTextGenerationTask {\n    constructor() {\n        super(\"featherless-ai\", FEATHERLESS_API_BASE_URL);\n    }\n    preparePayload(params) {\n        return {\n            model: params.model,\n            ...omit(params.args, [\"inputs\", \"parameters\"]),\n            ...(params.args.parameters\n                ? {\n                    max_tokens: params.args.parameters.max_new_tokens,\n                    ...omit(params.args.parameters, \"max_new_tokens\"),\n                }\n                : undefined),\n            prompt: params.args.inputs,\n        };\n    }\n    async getResponse(response) {\n        if (typeof response === \"object\" &&\n            \"choices\" in response &&\n            Array.isArray(response?.choices) &&\n            typeof response?.model === \"string\") {\n            const completion = response.choices[0];\n            return {\n                generated_text: completion.text,\n            };\n        }\n        throw new InferenceClientProviderOutputError(\"Received malformed response from Featherless AI text generation API\");\n    }\n}\n"],"mappings":"AAAA,SAASA,sBAAsB,EAAEC,sBAAsB,QAAQ,qBAAqB;AACpF,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,kCAAkC,QAAQ,cAAc;AACjE,MAAMC,wBAAwB,GAAG,4BAA4B;AAC7D,OAAO,MAAMC,+BAA+B,SAASL,sBAAsB,CAAC;EACxEM,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,gBAAgB,EAAEF,wBAAwB,CAAC;EACrD;AACJ;AACA,OAAO,MAAMG,+BAA+B,SAASN,sBAAsB,CAAC;EACxEK,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,gBAAgB,EAAEF,wBAAwB,CAAC;EACrD;EACAI,cAAcA,CAACC,MAAM,EAAE;IACnB,OAAO;MACHC,KAAK,EAAED,MAAM,CAACC,KAAK;MACnB,GAAGR,IAAI,CAACO,MAAM,CAACE,IAAI,EAAE,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;MAC9C,IAAIF,MAAM,CAACE,IAAI,CAACC,UAAU,GACpB;QACEC,UAAU,EAAEJ,MAAM,CAACE,IAAI,CAACC,UAAU,CAACE,cAAc;QACjD,GAAGZ,IAAI,CAACO,MAAM,CAACE,IAAI,CAACC,UAAU,EAAE,gBAAgB;MACpD,CAAC,GACCG,SAAS,CAAC;MAChBC,MAAM,EAAEP,MAAM,CAACE,IAAI,CAACM;IACxB,CAAC;EACL;EACA,MAAMC,WAAWA,CAACC,QAAQ,EAAE;IACxB,IAAI,OAAOA,QAAQ,KAAK,QAAQ,IAC5B,SAAS,IAAIA,QAAQ,IACrBC,KAAK,CAACC,OAAO,CAACF,QAAQ,EAAEG,OAAO,CAAC,IAChC,OAAOH,QAAQ,EAAET,KAAK,KAAK,QAAQ,EAAE;MACrC,MAAMa,UAAU,GAAGJ,QAAQ,CAACG,OAAO,CAAC,CAAC,CAAC;MACtC,OAAO;QACHE,cAAc,EAAED,UAAU,CAACE;MAC/B,CAAC;IACL;IACA,MAAM,IAAItB,kCAAkC,CAAC,qEAAqE,CAAC;EACvH;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}