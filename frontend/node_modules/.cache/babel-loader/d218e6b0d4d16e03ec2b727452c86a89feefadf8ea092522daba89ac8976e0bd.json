{"ast":null,"code":"import { resolveProvider } from \"../../lib/getInferenceProviderMapping.js\";\nimport { getProviderHelper } from \"../../lib/getProviderHelper.js\";\nimport { base64FromBytes } from \"../../utils/base64FromBytes.js\";\nimport { innerRequest } from \"../../utils/request.js\";\n/**\n * Answers a question on an image. Recommended model: dandelin/vilt-b32-finetuned-vqa.\n */\nexport async function visualQuestionAnswering(args, options) {\n  const provider = await resolveProvider(args.provider, args.model, args.endpointUrl);\n  const providerHelper = getProviderHelper(provider, \"visual-question-answering\");\n  const reqArgs = {\n    ...args,\n    inputs: {\n      question: args.inputs.question,\n      // convert Blob or ArrayBuffer to base64\n      image: base64FromBytes(new Uint8Array(await args.inputs.image.arrayBuffer()))\n    }\n  };\n  const {\n    data: res\n  } = await innerRequest(reqArgs, providerHelper, {\n    ...options,\n    task: \"visual-question-answering\"\n  });\n  return providerHelper.getResponse(res);\n}","map":{"version":3,"names":["resolveProvider","getProviderHelper","base64FromBytes","innerRequest","visualQuestionAnswering","args","options","provider","model","endpointUrl","providerHelper","reqArgs","inputs","question","image","Uint8Array","arrayBuffer","data","res","task","getResponse"],"sources":["/Users/agmacbook/Documents/Courses/Meta - Full Stack/Exercises/meta_fullstack_exercises/6_react_basics/12_review/13_chef_claude/node_modules/@huggingface/inference/dist/esm/tasks/multimodal/visualQuestionAnswering.js"],"sourcesContent":["import { resolveProvider } from \"../../lib/getInferenceProviderMapping.js\";\nimport { getProviderHelper } from \"../../lib/getProviderHelper.js\";\nimport { base64FromBytes } from \"../../utils/base64FromBytes.js\";\nimport { innerRequest } from \"../../utils/request.js\";\n/**\n * Answers a question on an image. Recommended model: dandelin/vilt-b32-finetuned-vqa.\n */\nexport async function visualQuestionAnswering(args, options) {\n    const provider = await resolveProvider(args.provider, args.model, args.endpointUrl);\n    const providerHelper = getProviderHelper(provider, \"visual-question-answering\");\n    const reqArgs = {\n        ...args,\n        inputs: {\n            question: args.inputs.question,\n            // convert Blob or ArrayBuffer to base64\n            image: base64FromBytes(new Uint8Array(await args.inputs.image.arrayBuffer())),\n        },\n    };\n    const { data: res } = await innerRequest(reqArgs, providerHelper, {\n        ...options,\n        task: \"visual-question-answering\",\n    });\n    return providerHelper.getResponse(res);\n}\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,0CAA0C;AAC1E,SAASC,iBAAiB,QAAQ,gCAAgC;AAClE,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,YAAY,QAAQ,wBAAwB;AACrD;AACA;AACA;AACA,OAAO,eAAeC,uBAAuBA,CAACC,IAAI,EAAEC,OAAO,EAAE;EACzD,MAAMC,QAAQ,GAAG,MAAMP,eAAe,CAACK,IAAI,CAACE,QAAQ,EAAEF,IAAI,CAACG,KAAK,EAAEH,IAAI,CAACI,WAAW,CAAC;EACnF,MAAMC,cAAc,GAAGT,iBAAiB,CAACM,QAAQ,EAAE,2BAA2B,CAAC;EAC/E,MAAMI,OAAO,GAAG;IACZ,GAAGN,IAAI;IACPO,MAAM,EAAE;MACJC,QAAQ,EAAER,IAAI,CAACO,MAAM,CAACC,QAAQ;MAC9B;MACAC,KAAK,EAAEZ,eAAe,CAAC,IAAIa,UAAU,CAAC,MAAMV,IAAI,CAACO,MAAM,CAACE,KAAK,CAACE,WAAW,CAAC,CAAC,CAAC;IAChF;EACJ,CAAC;EACD,MAAM;IAAEC,IAAI,EAAEC;EAAI,CAAC,GAAG,MAAMf,YAAY,CAACQ,OAAO,EAAED,cAAc,EAAE;IAC9D,GAAGJ,OAAO;IACVa,IAAI,EAAE;EACV,CAAC,CAAC;EACF,OAAOT,cAAc,CAACU,WAAW,CAACF,GAAG,CAAC;AAC1C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}