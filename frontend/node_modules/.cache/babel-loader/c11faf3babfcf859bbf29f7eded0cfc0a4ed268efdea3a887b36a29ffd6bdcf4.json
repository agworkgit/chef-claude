{"ast":null,"code":"import { InferenceClientProviderOutputError } from \"../errors.js\";\nimport { BaseConversationalTask, TaskProviderHelper, BaseTextGenerationTask } from \"./providerHelper.js\";\nconst SCALEWAY_API_BASE_URL = \"https://api.scaleway.ai\";\nexport class ScalewayConversationalTask extends BaseConversationalTask {\n  constructor() {\n    super(\"scaleway\", SCALEWAY_API_BASE_URL);\n  }\n}\nexport class ScalewayTextGenerationTask extends BaseTextGenerationTask {\n  constructor() {\n    super(\"scaleway\", SCALEWAY_API_BASE_URL);\n  }\n  preparePayload(params) {\n    return {\n      model: params.model,\n      ...params.args,\n      prompt: params.args.inputs\n    };\n  }\n  async getResponse(response) {\n    if (typeof response === \"object\" && response !== null && \"choices\" in response && Array.isArray(response.choices) && response.choices.length > 0) {\n      const completion = response.choices[0];\n      if (typeof completion === \"object\" && !!completion && \"text\" in completion && completion.text && typeof completion.text === \"string\") {\n        return {\n          generated_text: completion.text\n        };\n      }\n    }\n    throw new InferenceClientProviderOutputError(\"Received malformed response from Scaleway text generation API\");\n  }\n}\nexport class ScalewayFeatureExtractionTask extends TaskProviderHelper {\n  constructor() {\n    super(\"scaleway\", SCALEWAY_API_BASE_URL);\n  }\n  preparePayload(params) {\n    return {\n      input: params.args.inputs,\n      model: params.model\n    };\n  }\n  makeRoute() {\n    return \"v1/embeddings\";\n  }\n  async getResponse(response) {\n    return response.data.map(item => item.embedding);\n  }\n}","map":{"version":3,"names":["InferenceClientProviderOutputError","BaseConversationalTask","TaskProviderHelper","BaseTextGenerationTask","SCALEWAY_API_BASE_URL","ScalewayConversationalTask","constructor","ScalewayTextGenerationTask","preparePayload","params","model","args","prompt","inputs","getResponse","response","Array","isArray","choices","length","completion","text","generated_text","ScalewayFeatureExtractionTask","input","makeRoute","data","map","item","embedding"],"sources":["/Users/agmacbook/Documents/Courses/Meta - Full Stack/Exercises/meta_fullstack_exercises/6_react_basics/12_review/13_chef_claude/node_modules/@huggingface/inference/dist/esm/providers/scaleway.js"],"sourcesContent":["import { InferenceClientProviderOutputError } from \"../errors.js\";\nimport { BaseConversationalTask, TaskProviderHelper, BaseTextGenerationTask } from \"./providerHelper.js\";\nconst SCALEWAY_API_BASE_URL = \"https://api.scaleway.ai\";\nexport class ScalewayConversationalTask extends BaseConversationalTask {\n    constructor() {\n        super(\"scaleway\", SCALEWAY_API_BASE_URL);\n    }\n}\nexport class ScalewayTextGenerationTask extends BaseTextGenerationTask {\n    constructor() {\n        super(\"scaleway\", SCALEWAY_API_BASE_URL);\n    }\n    preparePayload(params) {\n        return {\n            model: params.model,\n            ...params.args,\n            prompt: params.args.inputs,\n        };\n    }\n    async getResponse(response) {\n        if (typeof response === \"object\" &&\n            response !== null &&\n            \"choices\" in response &&\n            Array.isArray(response.choices) &&\n            response.choices.length > 0) {\n            const completion = response.choices[0];\n            if (typeof completion === \"object\" &&\n                !!completion &&\n                \"text\" in completion &&\n                completion.text &&\n                typeof completion.text === \"string\") {\n                return {\n                    generated_text: completion.text,\n                };\n            }\n        }\n        throw new InferenceClientProviderOutputError(\"Received malformed response from Scaleway text generation API\");\n    }\n}\nexport class ScalewayFeatureExtractionTask extends TaskProviderHelper {\n    constructor() {\n        super(\"scaleway\", SCALEWAY_API_BASE_URL);\n    }\n    preparePayload(params) {\n        return {\n            input: params.args.inputs,\n            model: params.model,\n        };\n    }\n    makeRoute() {\n        return \"v1/embeddings\";\n    }\n    async getResponse(response) {\n        return response.data.map((item) => item.embedding);\n    }\n}\n"],"mappings":"AAAA,SAASA,kCAAkC,QAAQ,cAAc;AACjE,SAASC,sBAAsB,EAAEC,kBAAkB,EAAEC,sBAAsB,QAAQ,qBAAqB;AACxG,MAAMC,qBAAqB,GAAG,yBAAyB;AACvD,OAAO,MAAMC,0BAA0B,SAASJ,sBAAsB,CAAC;EACnEK,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,UAAU,EAAEF,qBAAqB,CAAC;EAC5C;AACJ;AACA,OAAO,MAAMG,0BAA0B,SAASJ,sBAAsB,CAAC;EACnEG,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,UAAU,EAAEF,qBAAqB,CAAC;EAC5C;EACAI,cAAcA,CAACC,MAAM,EAAE;IACnB,OAAO;MACHC,KAAK,EAAED,MAAM,CAACC,KAAK;MACnB,GAAGD,MAAM,CAACE,IAAI;MACdC,MAAM,EAAEH,MAAM,CAACE,IAAI,CAACE;IACxB,CAAC;EACL;EACA,MAAMC,WAAWA,CAACC,QAAQ,EAAE;IACxB,IAAI,OAAOA,QAAQ,KAAK,QAAQ,IAC5BA,QAAQ,KAAK,IAAI,IACjB,SAAS,IAAIA,QAAQ,IACrBC,KAAK,CAACC,OAAO,CAACF,QAAQ,CAACG,OAAO,CAAC,IAC/BH,QAAQ,CAACG,OAAO,CAACC,MAAM,GAAG,CAAC,EAAE;MAC7B,MAAMC,UAAU,GAAGL,QAAQ,CAACG,OAAO,CAAC,CAAC,CAAC;MACtC,IAAI,OAAOE,UAAU,KAAK,QAAQ,IAC9B,CAAC,CAACA,UAAU,IACZ,MAAM,IAAIA,UAAU,IACpBA,UAAU,CAACC,IAAI,IACf,OAAOD,UAAU,CAACC,IAAI,KAAK,QAAQ,EAAE;QACrC,OAAO;UACHC,cAAc,EAAEF,UAAU,CAACC;QAC/B,CAAC;MACL;IACJ;IACA,MAAM,IAAIrB,kCAAkC,CAAC,+DAA+D,CAAC;EACjH;AACJ;AACA,OAAO,MAAMuB,6BAA6B,SAASrB,kBAAkB,CAAC;EAClEI,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,UAAU,EAAEF,qBAAqB,CAAC;EAC5C;EACAI,cAAcA,CAACC,MAAM,EAAE;IACnB,OAAO;MACHe,KAAK,EAAEf,MAAM,CAACE,IAAI,CAACE,MAAM;MACzBH,KAAK,EAAED,MAAM,CAACC;IAClB,CAAC;EACL;EACAe,SAASA,CAAA,EAAG;IACR,OAAO,eAAe;EAC1B;EACA,MAAMX,WAAWA,CAACC,QAAQ,EAAE;IACxB,OAAOA,QAAQ,CAACW,IAAI,CAACC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,SAAS,CAAC;EACtD;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}