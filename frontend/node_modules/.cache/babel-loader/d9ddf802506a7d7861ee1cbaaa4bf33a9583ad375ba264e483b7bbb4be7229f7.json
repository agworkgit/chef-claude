{"ast":null,"code":"import{useState}from'react';import'../style/list.css';import{Recipe}from'./Recipe';import{getRecipeFromChat}from'./AI';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const List=()=>{const[ingredientList,setIngredientList]=useState([]);const[recipe,setRecipe]=useState('');// store fetched recipe\nconst[recipeShown,setRecipeShown]=useState(false);// Add ingredient handler\nconst addIngredient=e=>{e.preventDefault();// prevent page refresh\nconst form=e.target;const value=form.ingredient.value.trim();if(value){setIngredientList([...ingredientList,value]);form.reset();}};// Fetch recipe from backend\nconst getRecipe=async()=>{if(ingredientList.length===0)return;const recipeMarkdown=await getRecipeFromChat(ingredientList);console.log('Recipe markdown:',recipeMarkdown);setRecipe(recipeMarkdown);// store recipe\nsetRecipeShown(true);// show recipe\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:addIngredient,children:[/*#__PURE__*/_jsx(\"input\",{name:\"ingredient\",type:\"text\",placeholder:\"e.g. oregano\",\"aria-label\":\"Add ingredient\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"+ Add Ingredient\"})]}),ingredientList.length>0&&/*#__PURE__*/_jsxs(\"article\",{className:\"list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Ingredients on hand:\"}),/*#__PURE__*/_jsx(\"ul\",{children:ingredientList.map((item,index)=>/*#__PURE__*/_jsx(\"li\",{children:item},index))}),ingredientList.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"get-recipe-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"get-recipe-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ready for a recipe?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Get a recipe from your list of ingredients.\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"get-recipe-btn\",onClick:getRecipe,children:\"Get a recipe\"})]})]}),recipeShown&&/*#__PURE__*/_jsx(Recipe,{recipe:recipe})]});};","map":{"version":3,"names":["useState","Recipe","getRecipeFromChat","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","List","ingredientList","setIngredientList","recipe","setRecipe","recipeShown","setRecipeShown","addIngredient","e","preventDefault","form","target","value","ingredient","trim","reset","getRecipe","length","recipeMarkdown","console","log","children","onSubmit","name","type","placeholder","className","map","item","index","onClick"],"sources":["/Users/agmacbook/Documents/GitHub/Repos/chef-claude/frontend/src/components/List.js"],"sourcesContent":["import { useState } from 'react';\nimport '../style/list.css';\nimport { Recipe } from './Recipe';\nimport { getRecipeFromChat } from './AI';\n\nexport const List = () => {\n    const [ingredientList, setIngredientList] = useState([]);\n    const [recipe, setRecipe] = useState(''); // store fetched recipe\n    const [recipeShown, setRecipeShown] = useState(false);\n\n    // Add ingredient handler\n    const addIngredient = (e) => {\n        e.preventDefault(); // prevent page refresh\n        const form = e.target;\n        const value = form.ingredient.value.trim();\n        if (value) {\n            setIngredientList([...ingredientList, value]);\n            form.reset();\n        }\n    };\n\n    // Fetch recipe from backend\n    const getRecipe = async () => {\n        if (ingredientList.length === 0) return;\n\n        const recipeMarkdown = await getRecipeFromChat(ingredientList);\n        console.log('Recipe markdown:', recipeMarkdown);\n\n        setRecipe(recipeMarkdown); // store recipe\n        setRecipeShown(true);      // show recipe\n    };\n\n    return (\n        <>\n            <form onSubmit={addIngredient}>\n                <input\n                    name=\"ingredient\"\n                    type=\"text\"\n                    placeholder=\"e.g. oregano\"\n                    aria-label=\"Add ingredient\"\n                />\n                <button type=\"submit\">+ Add Ingredient</button>\n            </form>\n\n            {ingredientList.length > 0 && (\n                <article className=\"list\">\n                    <h2>Ingredients on hand:</h2>\n                    <ul>\n                        {ingredientList.map((item, index) => (\n                            <li key={index}>{item}</li>\n                        ))}\n                    </ul>\n\n                    {ingredientList.length > 3 && (\n                        <div className=\"get-recipe-container\">\n                            <div className=\"get-recipe-details\">\n                                <h3>Ready for a recipe?</h3>\n                                <p>Get a recipe from your list of ingredients.</p>\n                            </div>\n                            <button className=\"get-recipe-btn\" onClick={getRecipe}>\n                                Get a recipe\n                            </button>\n                        </div>\n                    )}\n                </article>\n            )}\n\n            {/* Render dynamic recipe */}\n            {recipeShown && <Recipe recipe={recipe} />}\n        </>\n    );\n};\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,mBAAmB,CAC1B,OAASC,MAAM,KAAQ,UAAU,CACjC,OAASC,iBAAiB,KAAQ,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEzC,MAAO,MAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACY,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAAE;AAC1C,KAAM,CAACc,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAErD;AACA,KAAM,CAAAgB,aAAa,CAAIC,CAAC,EAAK,CACzBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAE;AACpB,KAAM,CAAAC,IAAI,CAAGF,CAAC,CAACG,MAAM,CACrB,KAAM,CAAAC,KAAK,CAAGF,IAAI,CAACG,UAAU,CAACD,KAAK,CAACE,IAAI,CAAC,CAAC,CAC1C,GAAIF,KAAK,CAAE,CACPV,iBAAiB,CAAC,CAAC,GAAGD,cAAc,CAAEW,KAAK,CAAC,CAAC,CAC7CF,IAAI,CAACK,KAAK,CAAC,CAAC,CAChB,CACJ,CAAC,CAED;AACA,KAAM,CAAAC,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAIf,cAAc,CAACgB,MAAM,GAAK,CAAC,CAAE,OAEjC,KAAM,CAAAC,cAAc,CAAG,KAAM,CAAAzB,iBAAiB,CAACQ,cAAc,CAAC,CAC9DkB,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEF,cAAc,CAAC,CAE/Cd,SAAS,CAACc,cAAc,CAAC,CAAE;AAC3BZ,cAAc,CAAC,IAAI,CAAC,CAAO;AAC/B,CAAC,CAED,mBACIT,KAAA,CAAAE,SAAA,EAAAsB,QAAA,eACIxB,KAAA,SAAMyB,QAAQ,CAAEf,aAAc,CAAAc,QAAA,eAC1B1B,IAAA,UACI4B,IAAI,CAAC,YAAY,CACjBC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,cAAc,CAC1B,aAAW,gBAAgB,CAC9B,CAAC,cACF9B,IAAA,WAAQ6B,IAAI,CAAC,QAAQ,CAAAH,QAAA,CAAC,kBAAgB,CAAQ,CAAC,EAC7C,CAAC,CAENpB,cAAc,CAACgB,MAAM,CAAG,CAAC,eACtBpB,KAAA,YAAS6B,SAAS,CAAC,MAAM,CAAAL,QAAA,eACrB1B,IAAA,OAAA0B,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7B1B,IAAA,OAAA0B,QAAA,CACKpB,cAAc,CAAC0B,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAC5BlC,IAAA,OAAA0B,QAAA,CAAiBO,IAAI,EAAZC,KAAiB,CAC7B,CAAC,CACF,CAAC,CAEJ5B,cAAc,CAACgB,MAAM,CAAG,CAAC,eACtBpB,KAAA,QAAK6B,SAAS,CAAC,sBAAsB,CAAAL,QAAA,eACjCxB,KAAA,QAAK6B,SAAS,CAAC,oBAAoB,CAAAL,QAAA,eAC/B1B,IAAA,OAAA0B,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5B1B,IAAA,MAAA0B,QAAA,CAAG,6CAA2C,CAAG,CAAC,EACjD,CAAC,cACN1B,IAAA,WAAQ+B,SAAS,CAAC,gBAAgB,CAACI,OAAO,CAAEd,SAAU,CAAAK,QAAA,CAAC,cAEvD,CAAQ,CAAC,EACR,CACR,EACI,CACZ,CAGAhB,WAAW,eAAIV,IAAA,CAACH,MAAM,EAACW,MAAM,CAAEA,MAAO,CAAE,CAAC,EAC5C,CAAC,CAEX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}