{"ast":null,"code":"import { resolveProvider } from \"../../lib/getInferenceProviderMapping.js\";\nimport { getProviderHelper } from \"../../lib/getProviderHelper.js\";\nimport { innerRequest } from \"../../utils/request.js\";\nimport { AutoRouterConversationalTask } from \"../../providers/providerHelper.js\";\n/**\n * Use the chat completion endpoint to generate a response to a prompt, using OpenAI message completion API no stream\n */\nexport async function chatCompletion(args, options) {\n  let providerHelper;\n  if (!args.provider || args.provider === \"auto\") {\n    // Special case: we have a dedicated auto-router for conversational models. No need to fetch provider mapping.\n    providerHelper = new AutoRouterConversationalTask();\n  } else {\n    const provider = await resolveProvider(args.provider, args.model, args.endpointUrl);\n    providerHelper = getProviderHelper(provider, \"conversational\");\n  }\n  const {\n    data: response\n  } = await innerRequest(args, providerHelper, {\n    ...options,\n    task: \"conversational\"\n  });\n  return providerHelper.getResponse(response);\n}","map":{"version":3,"names":["resolveProvider","getProviderHelper","innerRequest","AutoRouterConversationalTask","chatCompletion","args","options","providerHelper","provider","model","endpointUrl","data","response","task","getResponse"],"sources":["/Users/agmacbook/Documents/Courses/Meta - Full Stack/Exercises/meta_fullstack_exercises/6_react_basics/12_review/13_chef_claude/node_modules/@huggingface/inference/dist/esm/tasks/nlp/chatCompletion.js"],"sourcesContent":["import { resolveProvider } from \"../../lib/getInferenceProviderMapping.js\";\nimport { getProviderHelper } from \"../../lib/getProviderHelper.js\";\nimport { innerRequest } from \"../../utils/request.js\";\nimport { AutoRouterConversationalTask } from \"../../providers/providerHelper.js\";\n/**\n * Use the chat completion endpoint to generate a response to a prompt, using OpenAI message completion API no stream\n */\nexport async function chatCompletion(args, options) {\n    let providerHelper;\n    if (!args.provider || args.provider === \"auto\") {\n        // Special case: we have a dedicated auto-router for conversational models. No need to fetch provider mapping.\n        providerHelper = new AutoRouterConversationalTask();\n    }\n    else {\n        const provider = await resolveProvider(args.provider, args.model, args.endpointUrl);\n        providerHelper = getProviderHelper(provider, \"conversational\");\n    }\n    const { data: response } = await innerRequest(args, providerHelper, {\n        ...options,\n        task: \"conversational\",\n    });\n    return providerHelper.getResponse(response);\n}\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,0CAA0C;AAC1E,SAASC,iBAAiB,QAAQ,gCAAgC;AAClE,SAASC,YAAY,QAAQ,wBAAwB;AACrD,SAASC,4BAA4B,QAAQ,mCAAmC;AAChF;AACA;AACA;AACA,OAAO,eAAeC,cAAcA,CAACC,IAAI,EAAEC,OAAO,EAAE;EAChD,IAAIC,cAAc;EAClB,IAAI,CAACF,IAAI,CAACG,QAAQ,IAAIH,IAAI,CAACG,QAAQ,KAAK,MAAM,EAAE;IAC5C;IACAD,cAAc,GAAG,IAAIJ,4BAA4B,CAAC,CAAC;EACvD,CAAC,MACI;IACD,MAAMK,QAAQ,GAAG,MAAMR,eAAe,CAACK,IAAI,CAACG,QAAQ,EAAEH,IAAI,CAACI,KAAK,EAAEJ,IAAI,CAACK,WAAW,CAAC;IACnFH,cAAc,GAAGN,iBAAiB,CAACO,QAAQ,EAAE,gBAAgB,CAAC;EAClE;EACA,MAAM;IAAEG,IAAI,EAAEC;EAAS,CAAC,GAAG,MAAMV,YAAY,CAACG,IAAI,EAAEE,cAAc,EAAE;IAChE,GAAGD,OAAO;IACVO,IAAI,EAAE;EACV,CAAC,CAAC;EACF,OAAON,cAAc,CAACO,WAAW,CAACF,QAAQ,CAAC;AAC/C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}